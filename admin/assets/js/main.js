function dashboardGraphs(){    //GET CURRENT URL    const currenturl = window.location.href;    if(currenturl == "http://localhost/new/fptec/admin/dashboard.php"){        /*    THE ECHARTS STARTS HERE     */        // Initialize the echarts instance based on the prepared dom        var myChart = echarts.init(document.getElementById('studentsgraph'),'infographic');        myChart.showLoading();        // Specify the configuration items and data for the chart        var xData = [];        var yData = [];        $.ajax({            type: "get",            url: "php/index.php",            data: "getStudentsGraphData",            success: function (data) {                var result = $.parseJSON(data);                for(var i=0; i < result.length;i++ ){                    let dval = result[i];                    var year = dval['year'];                    var dcount = dval['totalCount'];                    xData.push(year);                    yData.push(dcount);                }                option = {                    xAxis: {                        //data: ['Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat', 'Sun']                        data: xData                    },                    yAxis: {},                    series: [                        {                            type: 'bar',                            data: yData,                            showBackground: true,                            backgroundStyle: {                                color: 'rgba(180, 180, 180, 0.2)'                            }                            //data: [23, 24, 18, 25, 27, 28, 25]                        }                    ]                };                // Display the chart using the configuration items and data just specified.                myChart.hideLoading();                myChart.setOption(option);            },            error: function (xhr, desc, err) {            }        });        var myBarChart = echarts.init(document.getElementById('nationalitygraph'),'infographic');        myBarChart.showLoading();        var xData2 = [];        var yData2 = [];        $.ajax({            type: "get",            url: "php/index.php",            data: "getEnrollmentByCountry",            success: function (data) {                console.log(data);                /*var result = $.parseJSON(data);                for(var i=0; i < result.length;i++ ){                    let dval = result[i];                    var nationality = dval['nationality'];                    var dcount = dval['totalCount'];                    xData2.push(nationality);                    yData2.push(dcount);                }*/                option = {                    tooltip: {                        trigger: 'item'                    },                    legend: {                        top: '5%',                        left: 'center',                        // doesn't perfectly work with our tricks, disable it                        selectedMode: false                    },                    series: [                        {                            name: 'Access From',                            type: 'pie',                            radius: ['40%', '70%'],                            center: ['50%', '70%'],                            // adjust the start angle                            startAngle: 180,                            label: {                                show: true,                                formatter(param) {                                    // correct the percentage                                    return param.name + ' (' + param.percent * 2 + '%)';                                }                            },                            data: [                                { value: 1048, name: 'Search Engine' },                                { value: 735, name: 'Direct' },                                { value: 580, name: 'Email' },                                { value: 484, name: 'Union Ads' },                                { value: 300, name: 'Video Ads' },                                {                                    // make an record to fill the bottom 50%                                    value: 1048 + 735 + 580 + 484 + 300,                                    itemStyle: {                                        // stop the chart from rendering this piece                                        color: 'none',                                        decal: {                                            symbol: 'none'                                        }                                    },                                    label: {                                        show: false                                    }                                }                            ]                        }                    ]                };                // Display the chart using the configuration items and data just specified.                myBarChart.hideLoading();                myBarChart.setOption(option);            },            error: function (xhr, desc, err) {            }        });        /*//BARGRAPH HERE        // Initialize the echarts instance based on the prepared dom        var myBarChart = echarts.init(document.getElementById('nationalitygraph'),'infographic');        // Specify the configuration items and data for the chart        optionBar = {            dataset: {                source: [                    ['score', 'amount', 'product'],                    [89.3, 58212, 'Matcha Latte'],                    [57.1, 78254, 'Milk Tea'],                    [74.4, 41032, 'Cheese Cocoa'],                    [50.1, 12755, 'Cheese Brownie'],                    [89.7, 20145, 'Matcha Cocoa'],                    [68.1, 79146, 'Tea'],                    [19.6, 91852, 'Orange Juice'],                    [10.6, 101852, 'Lemon Juice'],                    [32.7, 20112, 'Walnut Brownie']                ]            },            grid: { containLabel: true },            xAxis: { name: 'amount' },            yAxis: { type: 'category' },            visualMap: {                orient: 'horizontal',                left: 'center',                min: 10,                max: 100,                text: ['High Score', 'Low Score'],                // Map the score column to color                dimension: 0,                inRange: {                    color: ['#65B581', '#FFCE34', '#FD665F']                }            },            series: [                {                    type: 'bar',                    encode: {                        // Map the "amount" column to X axis.                        x: 'amount',                        // Map the "product" column to Y axis                        y: 'product'                    }                }            ]        };        // Display the chart using the configuration items and data just specified.        myBarChart.setOption(optionBar);        /*        ECHARTS ENDS HERE         */    }}function toggle(showw, hidde){    $("#"+showw).removeClass("hidden");    $("#"+hidde).addClass("hidden");    console.log(hidde + showw);}function updateApplicant(id){    var applicant = [];    $.each($("input[name='check_list']:checked"), function(){        applicant.push($(this).val());    });    if(applicant.length == 0){        errorNotification('Error!','Please select at least one applicant from the list','danger');    }else{        $("#loader").modal("show");        $("#loadermsg").text("Applicant Update In Progress...");        $.ajax({            type: "post",            url: "php/index.php",            data: "admitApplicant=" + applicant+"&id="+id,            success: function (data) {                console.log(data);                $("#loader").modal("hide");                var result = $.parseJSON(data);                var code = result['errorCode'];                var dmessage = result['errorMsg'];                if (code == "0") {                    $("#studentinstitutionlist").html("<h1 style='text-align: center'>"+dmessage+"</h1>");                    errorNotification('Success!',dmessage,'success');                }            },            error: function (xhr, desc, err) {                errorNotification('Error!','Processing failed! Contact systems administrator for assistance','danger');                return false;            }        });    }}function previous(){    console.log("previoussssss");    window.history.back();}function next(){    console.log("Nexttttttt");    window.history.forward();}function logIn(){    var uname = $("#uname").val();    var pword = $("#pword").val();    //CHEKC IF BOTH USERNAME AND PASSWORD HAVE BEEN ENTERED    if(uname == "" || pword == ""){        errorNotification('Error!!','Missing username or password','danger');    }else{        //VALIDATE E-MAIL        var validRegex = /^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\.[a-zA-Z0-9-]+)*$/;        if(uname.match(validRegex)) {            $("#loadbtn").addClass("hidden");            $("#loader").removeClass("hidden");            $.ajax({                type: "get",                url: "php/index.php",                data: "validateUser=" + uname + "&pword=" + pword,                success: function (data) {                    console.log(data);                    var result = $.parseJSON(data);                    var code = result['errorCode'];                    var dmessage = result['errorMsg'];                    console.log(code);                    if (code == "1") {                        errorNotification('Error!',dmessage,'danger');                        $("#loadbtn").removeClass("hidden");                        $("#loader").addClass("hidden");                    } else {                        errorNotification('Success',dmessage,'success');                        setTimeout(function(){                            document.getElementById('loginform').submit();                        },2000);                    }                },                error: function (xhr, desc, err) {                    $("#loader").modal("hide");                    alert(err);                    return false;                }            });        }else{            errorNotification('Error!!','Invalid E-mail','danger');        }    }}function createUser(){    var fname = $("#fname").val();    var lname = $("#lname").val();    var contact = $("#contact").val();    var email = $("#email").val();    var actype = $("#actype").val();    var role = $("#role").val();    var password = $("#password").val();    var institute = $("#institution").val();    var confpassword = $("#confpassword").val();    var access = [];    if(fname == "" || lname == "" || contact == "" || email == "" || actype == "" || role == "" || password == "" || confpassword == "" ){        errorNotification('Error!','Missing compulsory Parameters','danger');    }else{        //VALIDATE PASSWORDS        if(password != confpassword){            errorNotification('Error!','Passwords mismatch','danger');        }else{            //VALIDATE E-MAIL            var validRegex = /^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\.[a-zA-Z0-9-]+)*$/;            if(email.match(validRegex)) {                $.each($("input[name='access']:checked"), function(){                    access.push($(this).val());                });                $("#loader").modal("show");                $("#loadermsg").text("User Creation In Progress...");                $.ajax({                    type: "post",                    url: "php/index.php",                    data: "addUser="+access+"&fname="+fname+"&lname="+lname+"&contact="+contact+"&email="+email+"&actype="+actype+"&role="+role+"&password="+password+"&institution="+institute,                    success: function (data) {                        $("#loader").modal("hide");                        console.log(data);                        var result = $.parseJSON(data);                        var code = result['errorCode'];                        var dmessage = result['errorMsg'];                        //console.log(code);                        if(code == "1"){                            errorNotification('Error!',dmessage,'danger');                        }else{                            errorNotification('Success',dmessage,'success');                            setTimeout(function(){                                window.location.reload();                            },3000);                        }                    },                    error: function (xhr, desc, err) {                        errorNotification('Error!','Processing failed. Contact Systems Administrator for assistance','danger');                        return false;                    }                });            }            else{                errorNotification('Error!','Invalid E-mail Address Provided','danger');            }        }    }}function updateUser(){        var fname = $("#fnameedit").val();    var lname = $("#lnameedit").val();    var contact = $("#contactedit").val();    var email = $("#emailedit").val();    var actype = $("#actypeedit").val();    var role = $("#roleedit").val();    var institute = $("#institutionedit").val();    var access = [];    if(fname == "" || lname == "" || contact == "" || email == "" || actype == "" || role == "" ){        errorNotification('Error!','Missing compulsory parameters','danger');    }else{                $.each($("input[name='accessedit']:checked"), function(){                    access.push($(this).val());                });                $("#loader").modal("show");                $("#loadermsg").text("User Update In Progress...");                console.log(access);                $.ajax({                    type: "post",                    url: "php/index.php",                    data: "updateUserDetails="+access+"&fname="+fname+"&lname="+lname+"&contact="+contact+"&email="+email+"&actype="+actype+"&role="+role+"&institution="+institute,                    success: function (data) {                        $("#loader").modal("hide");                        console.log(data);                        var result = $.parseJSON(data);                        var code = result['errorCode'];                        var dmessage = result['errorMsg'];                        //console.log(code);                        if(code == "1"){                            errorNotification('Error!',dmessage,'danger');                        }else{                            errorNotification('Success',dmessage,'success');                            setTimeout(function(){                                window.location.reload();                            },3000);                        }                    },                    error: function (xhr, desc, err) {                        errorNotification('Error!','Processing failed! Contact systems administrator for assistance','danger');                        return false;                    }                });    }}function sendEmail(){    var percent = 0;    var notice = new PNotify({        text: "Please wait",        addclass: 'bg-primary',        type: 'info',        icon: 'icon-spinner4 spinner',        hide: false,        buttons: {            closer: false,            sticker: false        },        opacity: .9,        width: "170px"    });    setTimeout(function() {        notice.update({            title: false        });        var interval = setInterval(function() {            percent += 2;            var options = {                text: percent + "% complete."            };            if (percent == 80) options.title = "Almost There";            if (percent >= 100) {                window.clearInterval(interval);                options.title = "Done!";                options.addclass = "bg-success";                options.type = "success";                options.hide = true;                options.buttons = {                    closer: true,                    sticker: true                };                options.icon = 'icon-check';                options.opacity = 1;                options.width = PNotify.prototype.options.width;            }            notice.update(options);        }, 120);    }, 2000);}function createInstitution(){    var name = $("#insname").val();    var short = $("#inshort").val();    var code = $("#inscode").val();    var cat = $("#inscat").val();    var desc = $("#insdesc").val();    var tel = $("#inscont").val();    var email = $("#insemail").val();    var url = $("#insurl").val();    var dig = $("#digaddress").val();    var reg = $("#digregion").val();    var district = $("#digdistrict").val();    var town = $("#digtown").val();    var lat = $("#diglat").val();    var longt = $("#diglongt").val();    var hname = $("#insnamehead").val();    var hcont = $("#insconthead").val();    var hmail = $("#insemailhead").val();    var fname = $("#insnamefill").val();    var fcont = $("#inscontfill").val();    var fmail = $("#insemailfill").val();    if(name == "" || short == "" || code == "" || cat == "" || tel == "" || dig == "" || reg == "" || district == "" || town == "" ){        errorNotification('Error!','Missing compulsory parameters','danger');    }else{        $("#loader").modal("show");        $("#loadermsg").text("Institution Creation In Progress...");        $.ajax({            type: "post",            url: "php/index.php",            data: "addInstitution="+name+"&short="+short+"&code="+code+"&cat="+cat+"&desc="+desc+"&tel="+tel+"&email="+email+"&url="+url+            "&dig="+dig+"&reg="+reg+"&district="+district+"&town="+town+"&lat="+lat+"&longt="+longt+"&hname="+hname+"&hcont="+hcont+"&hmail="+hmail            +"&fname="+fname+"&fcont="+fcont+"&fmail="+fmail,            success: function (data) {                $("#loader").modal("hide");                console.log(data);                var result = $.parseJSON(data);                var code = result['errorCode'];                var dmessage = result['errorMsg'];                //console.log(code);                if(code == "1"){                    errorNotification('Error!',dmessage,'danger');                }else{                    errorNotification('Success',dmessage,'success');                    setTimeout(function(){                        window.location.reload();                    },3000);                }            },            error: function (xhr, desc, err) {                errorNotification('Error!','Processing failed! Contact systems administrator for assistance','danger');                return false;            }        });    }}function windowReload(){    window.location.reload();}function errorNotification(title, message, errortype){    var dclass = "";    if(errortype == "danger"){        dclass = "bg-danger";    }else if(errortype == "success"){        dclass = "bg-success";    }else if(errortype == "warning"){        dclass = "bg-warning";    }else if(errortype == "info"){        dclass = "bg-info";    }    new PNotify({        title: title,        text: message,        addclass: dclass + ' alert-styled-right',        type: errortype    });}function createRole(){    var title = $("#roletitle").val();    var access = [];    if(title == ""){        errorNotification('Form Incomplete','i am testing with function','danger');    }else{        $("#loader").modal("show");        $("#loadermsg").text("Role Creation In Progress...");        $.each($("input[name='accesses']:checked"), function(){            access.push($(this).val());        });        $.ajax({            type: "post",            url: "php/index.php",            data: "addRole="+access+"&title="+title,            success: function (data) {                $("#loader").modal("hide");                console.log(data);                var result = $.parseJSON(data);                var code = result['errorCode'];                var dmessage = result['errorMsg'];                console.log(code);                if(code == "1"){                    errorNotification('Error!',dmessage,'danger');                }else{                    errorNotification('Success',dmessage,'success');                    setTimeout(function(){                        window.location.reload();                    },2000);                }            },            error: function (xhr, desc, err) {                errorNotification('Error!','Processing failed! Contact systems administrator for assistance','danger');                return false;            }        });    }}function resetPassword(){    var email = $("#email").val();    if(email == ""){        $("#alertt_modal").modal("show");        $("#alertMsg").text("E-mail textbox cannot be left blank");    }else{        //VALIDATE THE EMAIL        var validRegex = /^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\.[a-zA-Z0-9-]+)*$/;        if(email.match(validRegex)) {            $("#loader").modal("show");            $("#loadermsg").text("Resetting Password In Progress...");            $.ajax({                type: "post",                url: "php/index.php",                data: "resetPassword="+email,                success: function (data) {                    console.log(data);                    $("#loader").modal("hide");                    var result = $.parseJSON(data);                    var code = result['errorCode'];                    var dmessage = result['errorMsg'];                    console.log()                    if(code == "1"){                        $("#alertt_modal").modal("show");                        $("#alertMsg").text(dmessage);                    }else{                        $("#success_modal").modal("show");                        $("#successMsg").text(dmessage);                    }                },                error: function (xhr, desc, err) {                    $("#loader").modal("hide");                    alert(err);                    return false;                }            });        }else{            $("#alertt_modal").modal("show");            $("#alertMsg").text("Invalid E-mail");        }    }}function createIsced(){        var title = $("#ititle").val();    var code = $("#icode").val();    var description = $("#idescript").val();    if(title == "" || code =="" || description == ""){        errorNotification('Error!','Missing compulsory parameters','danger');    }else{        $("#loader").modal("show");        $("#loadermsg").text("ISCED Creation In Progress...");        $.ajax({            type: "post",            url: "php/index.php",            data: "addIsced&title="+title+"&code="+code+"&description="+description,            success: function (data) {                $("#loader").modal("hide");                console.log(data);                var result = $.parseJSON(data);                var code = result['errorCode'];                var dmessage = result['errorMsg'];                console.log(code);                if(code == "1"){                    errorNotification('Error!',dmessage,'danger');                }else{                    errorNotification('Success',dmessage,'success');                    setTimeout(function(){                        window.location.reload();                    },3000);                }            },            error: function (xhr, desc, err) {                errorNotification('Error!','Processing failed! Contact systems administrator for assistance','danger');                return false;            }        });    }}function updateIsced(){    var title = $("#ititleedit").val();    var code = $("#icodeedit").val();    var description = $("#idescriptedit").val();    if(title == "" || description == ""){        errorNotification('Error!','Missing compulsory parameters','danger');    }else{        $("#blank_modal").modal("hide");        $("#loader").modal("show");        $("#loadermsg").text("ISCED Creation In Progress...");        $.ajax({            type: "post",            url: "php/index.php",            data: "updateIsced&title="+title+"&code="+code+"&description="+description,            success: function (data) {                $("#loader").modal("hide");                var result = $.parseJSON(data);                var code = result['errorCode'];                var dmessage = result['errorMsg'];                console.log(code);                if(code == "1"){                    errorNotification('Error!',dmessage,'danger');                }else{                    errorNotification('Success',dmessage,'success');                    setTimeout(function(){                        window.location.reload();                    },3000);                }            },            error: function (xhr, desc, err) {                errorNotification('Error!','Processing failed! Contact systems administrator for assistance','danger');                return false;            }        });    }}function getProgrammes(institution,id1,id2,flag = "None"){    console.log(institution);    if(institution == ""){        $("#alertt_modal").modal("show");        $("#alertMsg").text("Please select institution to get the list of programs offered");    }else{        $("#loader").modal("show");        $("#loadermsg").text("Getting the list of programmes...");        $.ajax({            type: "get",            url: "php/index.php",            data: "getInstitutePrograms="+institution+"&flag="+flag,            success: function (data) {                $("#loader").modal("hide");                if(id1 != ""){                    var did1 = "#"+id1;                    $(did1).html(data);                }                if(id1 != ""){                    var did2 = "#"+id2;                    $(did2).html(data);                }                console.log(data);            },            error: function (xhr, desc, err) {                errorNotification('Error!','Processing failed! Contact systems administrator for assistance','danger');                return false;            }        });    }}function getApplicants(status){    var institution = $("#stdinstitutionget").val();    var prog = $("#stdaddprog").val();    if(institution == "" || prog ==""){        errorNotification('Error!','Missing compulsory parameters','danger');    }else{        $("#studentinstitutionlist").html("");        $("#loader").modal("show");        $("#loadermsg").text("Getting the list of Applicants...");        $.ajax({            type: "get",            url: "php/index.php",            data: "getAllApplicants="+institution+"&prog="+prog+"&status="+status,            success: function (data) {                console.log(data);                $("#loader").modal("hide");                $("#studentinstitutionlist").html(data);            },            error: function (xhr, desc, err) {                errorNotification('Error!','Processing failed! Contact systems administrator for assistance','danger');                return false;            }        });    }}function logout(){    var notice = new PNotify({        title: 'Confirmation',        text: '<p>Are you sure you want to Logout?</p>',        hide: false,        type: 'info',        confirm: {            confirm: true,            buttons: [                {                    text: 'Yes',                    addClass: 'btn-sm'                },                {                    addClass: 'btn-sm'                }            ]        },        buttons: {            closer: false,            sticker: false        },        history: {            history: false        }    })    // On confirm    notice.get().on('pnotify.confirm', function() {        window.location.assign('index.php');    })    // On cancel    notice.get().on('pnotify.cancel', function() {});}function updateRank(){    $("#loader").modal("show");    $("#loadermsg").text("Rank Update In Progress...");    var rankid = $("#rankid").val();    var rank = $("#rankedit").val();    var status = $("#rankstatus").val();    if(rank == ""){        $("#blank_modal").modal("hide");        $("#loader").modal("hide");        $("#alertt_modal").modal("show");        $("#alertMsg").text("Please Supply All Fields To Continue");    }else{        $("#blank_modal").modal("hide");        $.ajax({            type: "post",            url: "php/index.php",            data: "updateRank="+rankid+"&rank="+rank+"&status="+status,            success: function (data) {                $("#loader").modal("hide");                var result = $.parseJSON(data);                var code = result['errorCode'];                var dmessage = result['errorMsg'];                console.log(code);                if(code == "1"){                    new PNotify({                        title: 'Failed',                        text: dmessage,                        addclass: 'bg-danger alert-styled-right',                        type: 'error'                    });                }else{                    $("#success_modal").modal("show");                    $("#successMsg").text(dmessage);                    window.location.reload();                }            },            error: function (xhr, desc, err) {                errorNotification('Error!','Processing failed! Contact systems administrator for assistance','danger');                return false;            }        });    }}function updateInstitutionCategory(){    $("#loader").modal("show");    $("#loadermsg").text("ISCED Creation In Progress...");    var name = $("#catnameedit").val();    var id = $("#catid").val();    var description = $("#catdescriptedit").val();    var status = $("#catstatusedit").val();    if(name == "" || description == ""){        $("#blank_modal").modal("hide");        $("#loader").modal("hide");        $("#alertt_modal").modal("show");        $("#alertMsg").text("Please Supply All Fields To Continue");    }else{        $("#blank_modal").modal("hide");        $.ajax({            type: "post",            url: "php/index.php",            data: "updateInstitutionCategory&name="+name+"&id="+id+"&description="+description+"&status="+status,            success: function (data) {                $("#loader").modal("hide");                var result = $.parseJSON(data);                var code = result['errorCode'];                var dmessage = result['errorMsg'];                console.log(code);                if(code == "1"){                    new PNotify({                        title: 'Failed',                        text: dmessage,                        addclass: 'bg-danger alert-styled-right',                        type: 'error'                    });                }else{                    $("#success_modal").modal("show");                    $("#successMsg").text(dmessage);                    window.location.reload();                }            },            error: function (xhr, desc, err) {                errorNotification('Error!','Processing failed! Contact systems administrator for assistance','danger');                return false;            }        });    }}const rankValues = [];const rankNames = [];function addRank(){    var rank = $("#strankname").val();    if(rank == ""){        $("#alertt_modal").modal("show");        $("#alertMsg").text("Please select a rank from the drop down");    }else{        //SPLIT        var splitRank = rank.split("*");        var drankid = splitRank[0];        var drankname = splitRank[1];        //CHECK IF VALUE ALREADY EXISTS        if(rankNames.includes(drankname)){            $("#alertt_modal").modal("show");            $("#alertMsg").text("Rank "+drankname+" already added");        }else{            rankValues.push(drankid);            rankNames.push(drankname);        }        var output="<div class='row' style='margin-top: 20px'>";        //DECODE AND DISPLAY THE ADDED RANKS        for(var i=0;i<rankNames.length;i++){            var dval = rankNames[i];            output = output + "<div class='col-md-4' style='margin-bottom: 10px'>"+dval+"   <button type='button' onclick='removeRank("+i+")'><i class='icon icon-trash-alt'></i></button></div>"        }        output = output + "</div>";        $("#catrank").html(output);    }}function createStaffCat(){    var catname = $("#stcatname").val();    if(catname == ""){        $("#alertt_modal").modal("show");        $("#alertMsg").text("Staff Category Name Cannot Be Empty");    }else{        $("#loader").modal("show");        $("#loadermsg").text("Staff Category Creation In Progress...");        $.ajax({            type: "post",            url: "php/index.php",            data: "addStaffCategory&name="+catname+"&rank="+rankValues,            success: function (data) {                $("#loader").modal("hide");                console.log(data);                var result = $.parseJSON(data);                var code = result['errorCode'];                var dmessage = result['errorMsg'];                console.log(code);                if(code == "1"){                    new PNotify({                        title: 'Failed',                        text: dmessage,                        addclass: 'bg-danger alert-styled-right',                        type: 'error'                    });                }else{                    $("#success_modal").modal("show");                    $("#successMsg").text(dmessage);                    window.location.reload();                }            },            error: function (xhr, desc, err) {                errorNotification('Error!','Processing failed! Contact systems administrator for assistance','danger');                return false;            }        });    }}function createRank(){    var rank = $("#drankname").val();    if(rank == ""){        $("#alertt_modal").modal("show");        $("#alertMsg").text("Rank Name Cannot Be Empty");    }else{        $("#loader").modal("show");        $("#loadermsg").text("Staff Rank Creation In Progress...");        $.ajax({            type: "post",            url: "php/index.php",            data: "addStaffRank="+rank,            success: function (data) {                $("#loader").modal("hide");                console.log(data);                var result = $.parseJSON(data);                var code = result['errorCode'];                var dmessage = result['errorMsg'];                console.log(code);                if(code == "1"){                    new PNotify({                        title: 'Failed',                        text: dmessage,                        addclass: 'bg-danger alert-styled-right',                        type: 'error'                    });                }else{                    $("#success_modal").modal("show");                    $("#successMsg").text(dmessage);                    window.location.reload();                }            },            error: function (xhr, desc, err) {                errorNotification('Error!','Processing failed! Contact systems administrator for assistance','danger');                return false;            }        });    }}function getRankDetails(dval){    console.log(dval);    //SHOW THE LOADER    $("#rankdetailsloader").removeClass("hidden");    $("#ranklisthide").addClass("hidden");    //document.getElementById("ranklist").innerHTML = "<option></option>";    $.ajax({        type: "get",        url: "php/index.php",        data: "getRankDetails="+dval,        success: function (data) {            document.getElementById("ranklist").innerHTML = data;            $("#rankdetailsloader").addClass("hidden");            $("#ranklisthide").removeClass("hidden");        },        error: function (xhr, desc, err) {            $("#loader").modal("hide");            alert(err);            return false;        }    });}function getStaffDetails(dval){    console.log(dval);    //SHOW THE LOADER    $("#staffdetailsloader").removeClass("hidden");    $("#stafflisthide").addClass("hidden");    //document.getElementById("ranklist").innerHTML = "<option></option>";    $.ajax({        type: "get",        url: "php/index.php",        data: "getStaffDetails="+dval,        success: function (data) {            document.getElementById("stafflist").innerHTML = data;            $("#staffdetailsloader").addClass("hidden");            $("#stafflisthide").removeClass("hidden");        },        error: function (xhr, desc, err) {            $("#loader").modal("hide");            alert(err);            return false;        }    });}function createStaffRecord(){    var stfid = $("#stfid").val();    var title = $("#stftitle").val();    var fname = $("#stffname").val();    var lname = $("#stflname").val();    var oname = $("#stfoname").val();    var dob = $("#stfdob").val();    var sex = $("#stfsex").val();    var idtype = $("#stfidtype").val();    var idnum = $("#stfidnum").val();    var edu = $("#stfedu").val();    var nat = $("#stfnationality").val();    var disable = $("#stfdisable").val();    var distype = $("#stfdisabletype").val();    var inst = $("#stfinstitution").val();    var acad = $("#stfacadyear").val();    var emptype = $("#stfemptype").val();    var stftype = $("#stftype").val();    var rank = $("#ranklist").val();    var desig = $("#stfdesig").val();    var college = $("#stfcollege").val();    var faculty = $("#stffaculty").val();    var dept = $("#stfdept").val();    if(stfid == "" || fname == "" || lname == "" || dob == "" || sex == "" || idtype == "" || idnum == "" || edu == "" || nat == "" || inst == ""        || acad == "" || emptype == "" || stftype == "" || rank == ""){        $("#loader").modal("hide");        $("#alertt_modal").modal("show");        $("#alertMsg").text("Please Provide Values For All Compulsory Fields To Continue");    }else {        $("#loader").modal("show");        $("#loadermsg").text("Staff Creation In Progress...");        $.ajax({            type: "post",            url: "php/index.php",            data: "addNewStaff="+stfid+"&title="+title+"&fname="+fname+"&lname="+lname+"&oname="+oname+"&dob="+dob+"&sex="+sex+            "&idtype="+idtype+"&idnum="+idnum+"&edu="+edu+"&nat="+nat+"&disable="+disable+"&distype="+distype+"&inst="+inst+            "&acad="+acad+"&emptype="+emptype+"&stftype="+stftype+"&rank="+rank+"&desig="+desig+"&college="+college+"&faculty="+faculty+            "&dept="+dept,            success: function (data) {                $("#loader").modal("hide");                console.log(data);                var result = $.parseJSON(data);                var code = result['errorCode'];                var dmessage = result['errorMsg'];                //console.log(code);                if(code == "1"){                    new PNotify({                        title: 'Failed',                        text: dmessage,                        addclass: 'bg-danger alert-styled-right',                        type: 'error'                    });                }else{                    $("#success_modal").modal("show");                    $("#successMsg").text(dmessage);                    window.location.reload();                }            },            error: function (xhr, desc, err) {                errorNotification('Error!','Processing failed! Contact systems administrator for assistance','danger');                return false;            }        });    }}function createStudentRecord(){    var stdid = $("#stdid").val();    var fname = $("#stdfname").val();    var lname = $("#stdlname").val();    var oname = $("#stdoname").val();    var dob = $("#stddob").val();    var sex = $("#stdsex").val();    var idtype = $("#stdidtype").val();    var idnum = $("#stdidnum").val();    var country = $("#stdcountry").val();    var birth = $("#stdbirth").val();    var religion = $("#stdreligion").val();    var town = $("#stdtown").val();    var region = $("#stdregion").val();    var shs = $("#stdshs").val();    var shsprog = $("#stdshsprog").val();    var disable = $("#stddisable").val();    var distype = $("#stddisabletype").val();    var inst = $("#stdinstitution").val();    var prog = $("#stdprog").val();    var progoffered = $("#stdprogoff").val();    var progtype = $("#stdprogtype").val();    var status = $("#stdqualify").val();    var feepaying = $("#stdfeepay").val();    var year = $("#stdacadyear").val();    var level = $("#stdproglevel").val();    var apptype = $("#stdapptype").val();    /*if(stdid == "" || fname == "" || lname == "" || dob == "" || sex == "" || idtype == "" || idnum == ""){        $("#loader").modal("hide");        $("#alertt_modal").modal("show");        $("#alertMsg").text("Please Provide Values For All Compulsory Fields To Continue");    }else {*/        $("#loader").modal("show");        $("#loadermsg").text("Student Admission In Progress...");        $.ajax({            type: "post",            url: "php/index.php",            data: "addNewStudent="+stdid+"&fname="+fname+"&lname="+lname+"&oname="+oname+"&dob="+dob+"&sex="+sex+            "&idtype="+idtype+"&idnum="+idnum+"&country="+country+"&birth="+birth+"&disable="+disable+"&distype="+distype+"&religion="+religion+            "&town="+town+"&region="+region+"&shs="+shs+"&shsprog="+shsprog+"&inst="+inst+"&prog="+prog+"&status="+status            +"&feepaying="+feepaying+"&year="+year+"&progtype="+progtype+"&progoffered="+progoffered+"&level="+level+"&apptype="+apptype,            success: function (data) {                $("#loader").modal("hide");                console.log(data);                var result = $.parseJSON(data);                var code = result['errorCode'];                var dmessage = result['errorMsg'];                //console.log(code);                if(code == "1"){                    errorNotification('Error!',dmessage,'danger');                }else{                    errorNotification('Success',dmessage,'success');                    setTimeout(function(){                        window.location.reload();                    },3000);                }            },            error: function (xhr, desc, err) {                errorNotification('Error!','Processing failed! Contact systems administrator for assistance','danger');                return false;            }        });    //}}function createPublicationRecord(){    var inst = $("#pubinst").val();    var stfid = $("#stafflist").val();    var type = $("#pubtype").val();    var title = $("#pubtitle").val();    var publisher = $("#pubpublisher").val();    var pubyear = $("#pubyear").val();    if(stfid == "" || inst == "" || type == "" || title == "" || publisher == "" || pubyear == ""){        errorNotification('Error!','Missing compulsory parameter(s)','danger');    }else {        $("#loader").modal("show");        $("#loadermsg").text("Publication Creation In Progress...");        $.ajax({            type: "post",            url: "php/index.php",            data: "addPublication&stfid="+stfid+"&inst="+inst+"&type="+type+"&title="+title+"&publisher="+publisher+"&pubyear="+pubyear,            success: function (data) {                $("#loader").modal("hide");                //console.log(data);                var result = $.parseJSON(data);                var code = result['errorCode'];                var dmessage = result['errorMsg'];                console.log(code);                if(code == "1"){                    errorNotification('Error!',dmessage,'danger');                }else{                    errorNotification('Success',dmessage,'success');                    setTimeout(function(){                        window.location.reload();                    },3000);                }            },            error: function (xhr, desc, err) {                errorNotification('Error!','Processing failed! Contact systems administrator for assistance','danger');                return false;            }        });    }}function createConferenceRecord(){    var inst = $("#confinst").val();    var stfid = $("#stafflist").val();    var title = $("#conftitle").val();    var organiser = $("#conforganizer").val();    var venue = $("#confvenue").val();    var country = $("#confcountry").val();    var city = $("#confcity").val();    var sdate = $("#confsdate").val();    var edate = $("#confedate").val();    if(stfid == "" || inst == "" || title == "" || organiser == "" || venue == "" || country == ""|| city == ""|| sdate == ""|| edate == ""){        $("#loader").modal("hide");        $("#alertt_modal").modal("show");        $("#alertMsg").text("Please Provide Values For All Compulsory Fields To Continue");    }else {        $("#loader").modal("show");        $("#loadermsg").text("Conference / Workshop Creation In Progress...");        $.ajax({            type: "post",            url: "php/index.php",            data: "addConference&stfid="+stfid+"&inst="+inst+"&title="+title+"&organiser="+organiser+"&venue="+venue+"&country="+country            +"&city="+city+"&sdate="+sdate+"&edate="+edate,            success: function (data) {                $("#loader").modal("hide");                console.log(data);                var result = $.parseJSON(data);                var code = result['errorCode'];                var dmessage = result['errorMsg'];                if(code == "1"){                    new PNotify({                        title: 'Failed',                        text: dmessage,                        addclass: 'bg-danger alert-styled-right',                        type: 'error'                    });                }else{                    $("#success_modal").modal("show");                    $("#successMsg").text(dmessage);                    window.location.reload();                }            },            error: function (xhr, desc, err) {                errorNotification('Error!','Processing failed! Contact systems administrator for assistance','danger');                return false;            }        });    }}function createContactRecord(){    var inst = $("#continst").val();    var year = $("#contyear").val();    var head = $("#conthead").val();    var headphone = $("#contheadphone").val();    var headmail = $("#contheademail").val();    var person = $("#contperson").val();    var email = $("#contpersonemail").val();    var phone = $("#contpersonphone").val();    var accredit = $("#contaccredit").val();    var expire = $("#contexpire").val();    if(inst == "" || year == "" || head == "" || headphone == "" || headmail == "" || person == ""|| email == ""|| phone == ""|| accredit == "" || expire == ""){        $("#loader").modal("hide");        $("#alertt_modal").modal("show");        $("#alertMsg").text("Please Provide Values For All Compulsory Fields To Continue");    }else {        $("#loader").modal("show");        $("#loadermsg").text("Contact Creation In Progress...");        $.ajax({            type: "post",            url: "php/index.php",            data: "addContact&inst="+inst+"&year="+year+"&head="+head+"&headphone="+headphone+"&heademail="+headmail+"&person="+person            +"&email="+email+"&phone="+phone+"&accredit="+accredit+"&expire="+expire,            success: function (data) {                $("#loader").modal("hide");                console.log(data);                var result = $.parseJSON(data);                var code = result['errorCode'];                var dmessage = result['errorMsg'];                if(code == "1"){                    new PNotify({                        title: 'Failed',                        text: dmessage,                        addclass: 'bg-danger alert-styled-right',                        type: 'error'                    });                }else{                    $("#success_modal").modal("show");                    $("#successMsg").text(dmessage);                    window.location.reload();                }            },            error: function (xhr, desc, err) {                errorNotification('Error!','Processing failed! Contact systems administrator for assistance','danger');                return false;            }        });    }}function createProgramRecord(){    var inst = $("#proginst").val();    var year = $("#progyear").val();    var college = $("#progcollege").val();    var faculty = $("#progfaculty").val();    var dept = $("#progdept").val();    var title = $("#progtitle").val();    var accredit = $("#progaccredit").val();    var expire = $("#progexpire").val();    var hname = $("#prognamehead").val();    var fname = $("#prognamefill").val();    var hcont = $("#progconthead").val();    var fcont = $("#progcontfill").val();    var hmail = $("#progemailhead").val();    var fmail = $("#progemailfill").val();    if(inst == "" || year == "" || college == "" || dept == "" || title == ""|| accredit == "" || expire == ""){        errorNotification('Error!','Missing compulsory parameters','danger');    }else {        $("#loader").modal("show");        $("#loadermsg").text("Program Accreditation In Progress...");        $.ajax({            type: "post",            url: "php/index.php",            data: "addProgram&inst="+inst+"&year="+year+"&college="+college+"&faculty="+faculty+"&dept="+dept+"&title="+title            +"&accredit="+accredit+"&expire="+expire+"&hname="+hname+"&hcont="+hcont+"&hmail="+hmail+"&fname="+fname+"&fcont="+fcont            +"&fmail="+fmail,            success: function (data) {                $("#loader").modal("hide");                console.log(data);                var result = $.parseJSON(data);                var code = result['errorCode'];                var dmessage = result['errorMsg'];                if(code == "1"){                    errorNotification('Error!',dmessage,'danger');                }else{                    errorNotification('Success',dmessage,'success');                    setTimeout(function(){                        window.location.reload();                    },3000);                }            },            error: function (xhr, desc, err) {                errorNotification('Error!','Processing failed! Contact systems administrator for assistance','danger');                return false;            }        });    }}function createProposedProgramRecord(){    var progname = $("#propprogname").val();    var isced = $("#propisced").val();    var inst = $("#propinst").val();    var year = $("#propyear").val();    var college = $("#propcollege").val();    var faculty = $("#propfaculty").val();    var dept = $("#propdept").val();    var hname = $("#propnamehead").val();    var fname = $("#propnamefill").val();    var hcont = $("#propconthead").val();    var fcont = $("#propcontfill").val();    var hmail = $("#propemailhead").val();    var fmail = $("#propemailfill").val();    if(inst == "" || year == "" || college == "" || dept == ""){        errorNotification('Error!','Missing compulsory parameters','danger');    }else {        $("#loader").modal("show");        $("#loadermsg").text("Program Accreditation In Progress...");        $.ajax({            type: "post",            url: "php/index.php",            data: "addPropProgram&inst="+inst+"&year="+year+"&college="+college+"&faculty="+faculty+"&dept="+dept+"&title="+progname            +"&hname="+hname+"&hcont="+hcont+"&hmail="+hmail+"&fname="+fname+"&fcont="+fcont+"&fmail="+fmail+"&isced="+isced,            success: function (data) {                $("#loader").modal("hide");                console.log(data);                var result = $.parseJSON(data);                var code = result['errorCode'];                var dmessage = result['errorMsg'];                if(code == "1"){                    errorNotification('Error!',dmessage,'danger');                }else{                    errorNotification('Success',dmessage,'success');                    setTimeout(function(){                        window.location.reload();                    },3000);                }            },            error: function (xhr, desc, err) {                errorNotification('Error!','Processing failed! Contact systems administrator for assistance','danger');                return false;            }        });    }}function createProposedRecord(){    var inst = $("#propinst").val();    var year = $("#propyear").val();    var college = $("#propcollege").val();    var faculty = $("#propfaculty").val();    var dept = $("#propdept").val();    var title = $("#proptitle").val();    var isced = $("#propisced").val();    if(inst == "" || year == "" || college == "" || faculty == "" || dept == "" || title == ""|| isced == ""){        $("#loader").modal("hide");        $("#alertt_modal").modal("show");        $("#alertMsg").text("Please Provide Values For All Compulsory Fields To Continue");    }else {        $("#loader").modal("show");        $("#loadermsg").text("Contact Creation In Progress...");        $.ajax({            type: "post",            url: "php/index.php",            data: "addProposed&inst="+inst+"&year="+year+"&college="+college+"&faculty="+faculty+"&dept="+dept+"&title="+title            +"&isced="+isced,            success: function (data) {                $("#loader").modal("hide");                console.log(data);                var result = $.parseJSON(data);                var code = result['errorCode'];                var dmessage = result['errorMsg'];                if(code == "1"){                    new PNotify({                        title: 'Failed',                        text: dmessage,                        addclass: 'bg-danger alert-styled-right',                        type: 'error'                    });                }else{                    $("#success_modal").modal("show");                    $("#successMsg").text(dmessage);                    window.location.reload();                }            },            error: function (xhr, desc, err) {                errorNotification('Error!','Processing failed! Contact systems administrator for assistance','danger');                return false;            }        });    }}function disabilityStatus(dval){    if(dval == "No"){        $("#disability_details").addClass("hidden");    }else{        $("#disability_details").removeClass("hidden");    }}function removeRank(dval){    rankValues.splice(dval, 1);    rankNames.splice(dval, 1);    var output="<div class='row' style='margin-top: 20px'>";    //DECODE AND DISPLAY THE ADDED RANKS    for(var i=0;i<rankValues.length;i++){        var dval = rankValues[i];        output = output + "<div class='col-md-4' style='margin-bottom: 10px'>"+dval+"   <button type='button' onclick='removeRank("+dval+")'><i class='icon icon-trash-alt'></i></button></div>"    }    output = output + "</div>";    $("#catrank").html(output);}function createInstCat(){    $("#loader").modal("show");    $("#loadermsg").text("Insitution Category Creation In Progress...");    var dname = $("#catname").val();    var descript = $("#catdescript").val();    if(dname == "" || descript ==""){    $("#loader").modal("hide");        $("#alertt_modal").modal("show");        $("#alertMsg").text("Please Supply All Fields To Continue");    }else{        $.ajax({            type: "post",            url: "php/index.php",            data: "addInstCategory&name="+dname+"&description="+descript,            success: function (data) {                $("#loader").modal("hide");                console.log(data);                var result = $.parseJSON(data);                var code = result['errorCode'];                var dmessage = result['errorMsg'];                console.log(code);                if(code == "1"){                    new PNotify({                        title: 'Failed',                        text: dmessage,                        addclass: 'bg-danger alert-styled-right',                        type: 'error'                    });                }else{                    $("#success_modal").modal("show");                    $("#successMsg").text(dmessage);                    window.location.reload();                }            },            error: function (xhr, desc, err) {                errorNotification('Error!','Processing failed! Contact systems administrator for assistance','danger');                return false;            }        });    }}function createInstCollege(){    $("#loader").modal("show");    $("#loadermsg").text("Insitution Category Creation In Progress...");    var dname = $("#collegename").val();    var descript = $("#collegedescript").val();    if(dname == "" || descript ==""){    $("#loader").modal("hide");        $("#alertt_modal").modal("show");        $("#alertMsg").text("Please Supply All Fields To Continue");    }else{        $.ajax({            type: "post",            url: "php/index.php",            data: "addInstCollege&name="+dname+"&description="+descript,            success: function (data) {                $("#loader").modal("hide");                console.log(data);                var result = $.parseJSON(data);                var code = result['errorCode'];                var dmessage = result['errorMsg'];                console.log(code);                if(code == "1"){                    new PNotify({                        title: 'Failed',                        text: dmessage,                        addclass: 'bg-danger alert-styled-right',                        type: 'error'                    });                }else{                    $("#success_modal").modal("show");                    $("#successMsg").text(dmessage);                    window.location.reload();                }            },            error: function (xhr, desc, err) {                errorNotification('Error!','Processing failed! Contact systems administrator for assistance','danger');                return false;            }        });    }}function createInstFaculty(){    $("#loader").modal("show");    $("#loadermsg").text("Insitution Faculty Creation In Progress...");    var dname = $("#facultyname").val();    var descript = $("#facultydescript").val();    if(dname == "" || descript ==""){    $("#loader").modal("hide");        $("#alertt_modal").modal("show");        $("#alertMsg").text("Please Supply All Fields To Continue");    }else{        $.ajax({            type: "post",            url: "php/index.php",            data: "addInstFaculty&name="+dname+"&description="+descript,            success: function (data) {                $("#loader").modal("hide");                console.log(data);                var result = $.parseJSON(data);                var code = result['errorCode'];                var dmessage = result['errorMsg'];                console.log(code);                if(code == "1"){                    new PNotify({                        title: 'Failed',                        text: dmessage,                        addclass: 'bg-danger alert-styled-right',                        type: 'error'                    });                }else{                    $("#success_modal").modal("show");                    $("#successMsg").text(dmessage);                    window.location.reload();                }            },            error: function (xhr, desc, err) {                errorNotification('Error!','Processing failed! Contact systems administrator for assistance','danger');                return false;            }        });    }}function sortDataTableAccPrograms(){    var dyear = $("#accredityear").val();    var inst = $("#accreditinst").val();    $("table tbody").html("<tr><td colspan='8'><div align='center'><img src='assets/images/preview.gif' style='width: 100px; height:100px'/><br/>Fetching data...</div></td></tr>");    $.ajax({        type: "get",        url: "php/index.php",        data: "sortDataTableAccPrograms&year="+dyear+"&inst="+inst,        success: function (data) {            //console.log(data);            $("table tbody").html(data);        },        error: function (xhr, desc, err) {            errorNotification('Error!','Processing failed! Contact systems administrator for assistance','danger');            return false;        }    });}function sortDataTableInstitutions(){    var sname = $("#instshortname").val();    var cat = $("#instcat").val();    var status = $("#inststatus").val();    $("table tbody").html("<tr><td colspan='16'><div align='center'><img src='assets/images/preview.gif' style='width: 100px; height:100px'/><br/>Fetching data...</div></td></tr>");    $.ajax({        type: "get",        url: "php/index.php",        data: "sortDataTableInstitutions&sname="+sname+"&cat="+cat+"&status="+status,        success: function (data) {            //console.log(data);            $("table tbody").html(data);        },        error: function (xhr, desc, err) {            errorNotification('Error!','Processing failed! Contact systems administrator for assistance','danger');            return false;        }    });}function sortDataTableStaff(){    var year = $("#staffyear").val();    var inst = $("#staffinst").val();    var gender = $("#staffgender").val();    var qualify = $("#staffqualify").val();    var rank = $("#staffrank").val();    var cat = $("#staffcategory").val();    $("table tbody").html("<tr><td colspan='9'><div align='center'><img src='assets/images/preview.gif' style='width: 100px; height:100px'/><br/>Fetching data...</div></td></tr>");    $.ajax({        type: "get",        url: "php/index.php",        data: "sortDataTableStaff&year="+year+"&inst="+inst+"&gender="+gender+"&qualify="+qualify+"&rank="+rank+"&cat="+cat,        success: function (data) {            //console.log(data);            $("table tbody").html(data);        },        error: function (xhr, desc, err) {            errorNotification('Error!','Processing failed! Contact systems administrator for assistance','danger');            return false;        }    });}function  sortDatTableApplicants(){    var year = $("#studentyear").val();    var inst = $("#studentinst").val();    var prog = $("#studentprog").val();    var qualify = $("#studentqualify").val();    $("table tbody").html("<tr><td colspan='9'><div align='center'><img src='assets/images/preview.gif' style='width: 100px; height:100px'/><br/>Fetching data...</div></td></tr>");    $.ajax({        type: "get",        url: "php/index.php",        data: "sortDataTableApplicants&year="+year+"&inst="+inst+"&prog="+prog+"&qualify="+qualify,        success: function (data) {            console.log(data);            $("table tbody").html(data);        },        error: function (xhr, desc, err) {            errorNotification('Error!','Processing failed! Contact systems administrator for assistance','danger');            return false;        }    });}function  getStudentDetailsFromSearch(){    var year = $("#studentyear1").val();    var inst = $("#studentinst1").val();    var prog = $("#studentprog1").val();    var apptype = $("#studentapptype").val();    var progtype = $("#studentprogtype").val();    var level = $("#studentproglevel").val();    var feepay = $("#studentfeepay").val();    $("#view_studenttable").removeClass("hidden");    $("#add_new_staff").addClass("hidden");    $("table tbody").html("<tr><td colspan='9'><div align='center'><img src='assets/images/preview.gif' style='width: 100px; height:100px'/><br/>Fetching data...</div></td></tr>");    $.ajax({        type: "get",        url: "php/index.php",        data: "sortDataTableStudents&year="+year+"&inst="+inst+"&prog="+prog+"&apptype="+apptype+"&progtype="+progtype+"&level="+level+"&feepay="+feepay,        success: function (data) {            console.log(data);            errorNotification('Success','Students Records Retrieved','info');            $("table tbody").html(data);        },        error: function (xhr, desc, err) {            errorNotification('Error!','Processing failed! Contact systems administrator for assistance','danger');            return false;        }    });}function unhideInstitution(dval){    if(dval == "Institution"){        $("#unhideinst").removeClass("hidden");    }else{        $("#unhideinst").addClass("hidden");    }}function sortDataTablePublication(){    var year = $("#pubbyear").val();    var inst = $("#pubbinst").val();    var type = $("#pubbtype").val();    console.log(year);    $("table tbody").html("<tr><td colspan='7'><div align='center'><img src='assets/images/preview.gif' style='width: 100px; height:100px'/><br/>Fetching data...</div></td></tr>");    $.ajax({        type: "get",        url: "php/index.php",        data: "sortDataTablePublication&year="+year+"&inst="+inst+"&type="+type,        success: function (data) {            //console.log(data);            $("table tbody").html(data);        },        error: function (xhr, desc, err) {            errorNotification('Error!','Processing failed! Contact systems administrator for assistance','danger');            return false;        }    });}function sortDataTableConference(){    var year = $("#conferenceyear").val();    var inst = $("#conferenceinst").val();    console.log(year);    $("table tbody").html("<tr><td colspan='7'><div align='center'><img src='assets/images/preview.gif' style='width: 100px; height:100px'/><br/>Fetching data...</div></td></tr>");    $.ajax({        type: "get",        url: "php/index.php",        data: "sortDataTableConference&year="+year+"&inst="+inst,        success: function (data) {            console.log(data);            $("table tbody").html(data);        },        error: function (xhr, desc, err) {            errorNotification('Error!','Processing failed! Contact systems administrator for assistance','danger');            return false;        }    });}function createNewProgram(){    var dname = $("#dprogtitle").val();    var isced = $("#dprogisced").val();    if(dname == ""){        errorNotification('Error!','Missing compulsory parameters','danger');    }else{        $("#loader").modal("show");        $("#loadermsg").text("Insitution Program Creation In Progress...");        $.ajax({            type: "post",            url: "php/index.php",            data: "addNewProg&name="+dname+"&isced="+isced,            success: function (data) {                $("#loader").modal("hide");                console.log(data);                var result = $.parseJSON(data);                var code = result['errorCode'];                var dmessage = result['errorMsg'];                console.log(code);                if(code == "1"){                    errorNotification('Error!',dmessage,'danger');                }else{                    errorNotification('Success',dmessage,'success');                    setTimeout(function(){                        window.location.reload();                    },3000);                }            },            error: function (xhr, desc, err) {                errorNotification('Error!','Processing failed! Contact systems administrator for assistance','danger');                return false;            }        });    }}function createInstDepartment(){    var dname = $("#depttname").val();    var descript = $("#depttdescript").val();    if(dname == "" || descript ==""){        $("#alertt_modal").modal("show");        $("#alertMsg").text("Please Supply All Fields To Continue");    }    else {        $("#loader").modal("show");        $("#loadermsg").text("Insitution Department Creation In Progress...");        $.ajax({            type: "post",            url: "php/index.php",            data: "addInstDepartment&name="+dname+"&description="+descript,            success: function (data) {                $("#loader").modal("hide");                console.log(data);                var result = $.parseJSON(data);                var code = result['errorCode'];                var dmessage = result['errorMsg'];                console.log(code);                if(code == "1"){                    new PNotify({                        title: 'Failed',                        text: dmessage,                        addclass: 'bg-danger alert-styled-right',                        type: 'error'                    });                }else{                    $("#success_modal").modal("show");                    $("#successMsg").text(dmessage);                    setTimeout(function(){                        window.location.reload();                    },2000);                }            },            error: function (xhr, desc, err) {                errorNotification('Error!','Processing failed! Contact systems administrator for assistance','danger');                return false;            }        });    }}/*function createInstDepartment(){    $("#loader").modal("show");    $("#loadermsg").text("Insitution Department Creation In Progress...");    var dname = $("#depttname").val();    var descript = $("#depttdescript").val();    console.log(dname);    if(dname == "" || descript ==""){    $("#loader").modal("hide");        $("#alertt_modal").modal("show");        $("#alertMsg").text("Please Supply All Fields To Continue");    }    else{        $.ajax({            type: "post",            url: "php/index.php",            data: "addInstDepartment&name="+dname+"&description="+descript,            success: function (data) {                $("#loader").modal("hide");                console.log(data);                var result = $.parseJSON(data);                var code = result['errorCode'];                var dmessage = result['errorMsg'];                console.log(code);                if(code == "1"){                    new PNotify({                        title: 'Failed',                        text: dmessage,                        addclass: 'bg-danger alert-styled-right',                        type: 'error'                    });                }else{                    $("#success_modal").modal("show");                    $("#successMsg").text(dmessage);                    window.location.reload();                }            },            error: function (xhr, desc, err) {                errorNotification('Error!','Processing failed! Contact systems administrator for assistance','danger');                return false;            }        });    }}*/function deleteModal(id, table) {    $("#delete_modal").modal("show");    $("#deleteId").val(id);    $("#deleteTable").val(table);}function deleteRecord(){    var id = $("#deleteId").val();    var table = $("#deleteTable").val();    $("#deleteloader").removeClass("hidden");    $("#deletehide").addClass("hidden");    //console.log(id + table);        $.ajax({            type: "post",            url: "php/index.php",            data: "removeRole="+id+"&table="+table,            success: function (data) {                $("#delete_modal").modal("hide");                $("#deleteloader").addClass("hidden");                $("#deletehide").removeClass("hidden");                console.log(data);                var result = $.parseJSON(data);                var code = result['errorCode'];                var dmessage = result['errorMsg'];                if(code == "1"){                    errorNotification('Error!',dmessage,'error');                }else{                    errorNotification('Success!',dmessage,'success');                    setTimeout(function(){                        window.location.reload();                    },2000);                }            },            error: function (xhr, desc, err) {                errorNotification('Error!','Processing failed! Contact systems administrator for assistance','danger');                return false;            }        });        return true;}function rejectRecord(){    var id = $("#rejectId").val();    var table = $("#rejectTable").val();    var status = $("#rejectStatus").val();    var note = $("#rejectNote").val();    var accdate = $("#rejectaccdate").val();    var expdate = $("#rejectexpirydate").val();    var isced = $("#rejectIsced").val();    var prog = $("#rejectProg").val();    $("#rejectloader").removeClass("hidden");    $("#rejecthide").addClass("hidden");    //console.log(id + table);        $.ajax({            type: "post",            url: "php/index.php",            data: "rejectRow="+id+"&table="+table+"&status="+status+"&accdate="+accdate+"&expirydate="+expdate+"&isced="+isced+"&prog="+prog+"&note="+note,            success: function (data) {                $("#reject_modal").modal("hide");                $("#rejectloader").addClass("hidden");                $("#rejecthide").removeClass("hidden");                console.log(data);                var result = $.parseJSON(data);                var code = result['errorCode'];                var dmessage = result['errorMsg'];                if(code == "1"){                    errorNotification('Error!',dmessage,'error');                }else{                    errorNotification('Success!',dmessage,'success');                    setTimeout(function(){                        window.location.reload();                    },2000);                }            },            error: function (xhr, desc, err) {                errorNotification('Error!','Processing failed! Contact systems administrator for assistance','danger');                return false;            }        });        return true;}function rejectProposedProgram (id, table, msg, status, isced, prog){    console.log("hjasghdsjgadgashj "+isced);    $("#reject_modal").modal("show");    $("#rejectId").val(id);    $("#rejectTable").val(table);    $("#rejectStatus").val(status);    $("#rejectMsg").text(msg);    $("#rejectIsced").val(isced);    $("#rejectProg").val(prog);    if(status == "Accepted"){        $("#approveshow").removeClass("hidden");    }else{        $("#approveshow").addClass("hidden");    }}function updateRole(id){    $("#loader").modal("show");    $("#loadermsg").text("Fetching The Role records...");    $.ajax({        type: "post",        url: "php/index.php",        data: "updateRole="+id,        success: function (data) {            $("#loader").modal("hide");            console.log(data);            if(data == 'Not Found'){                $("#alertt_modal").modal("show");                $("#alertMsg").text("Role Details Not Found");            }else{                //$("#blank_msg").html(dmessage);                document.getElementById("blank_msg").innerHTML = data;                $("#blank_modal").modal("show");            }        },        error: function (xhr, desc, err) {            $("#loader").modal("hide");            alert(err);            return false;        }    });    console.log(id);    //GET THE ROLE DETAILS}function getIsced(id){    $("#loader").modal("show");    $("#loadermsg").text("Fetching The ISCED records...");    $.ajax({        type: "get",        url: "php/index.php",        data: "getIsced="+id,        success: function (data) {            $("#loader").modal("hide");            if(data == 'Not Found'){                $("#alertt_modal").modal("show");                $("#alertMsg").text("Role Details Not Found");            }else{                //$("#blank_msg").html(dmessage);                document.getElementById("blank_msg").innerHTML = data;                $("#blank_modal").modal("show");            }        },        error: function (xhr, desc, err) {            $("#loader").modal("hide");            alert(err);            return false;        }    });}function getStaffRank(id){    $("#loader").modal("show");    $("#loadermsg").text("Fetching The ISCED records...");    $.ajax({        type: "get",        url: "php/index.php",        data: "getStaffRank="+id,        success: function (data) {            $("#loader").modal("hide");            if(data == 'Not Found'){                $("#alertt_modal").modal("show");                $("#alertMsg").text("Rank Details Not Found");            }else{                //$("#blank_msg").html(dmessage);                document.getElementById("blank_msg").innerHTML = data;                $("#blank_modal").modal("show");            }        },        error: function (xhr, desc, err) {            $("#loader").modal("hide");            alert(err);            return false;        }    });}function getInstitutionCategory(id){    $("#loader").modal("show");    $("#loadermsg").text("Fetching The Institution Category records...");    $.ajax({        type: "get",        url: "php/index.php",        data: "getInstitutionCategory="+id,        success: function (data) {            $("#loader").modal("hide");            if(data == 'Not Found'){                $("#alertt_modal").modal("show");                $("#alertMsg").text("Role Details Not Found");            }else{                //$("#blank_msg").html(dmessage);                document.getElementById("blank_msg").innerHTML = data;                $("#blank_modal").modal("show");            }        },        error: function (xhr, desc, err) {            $("#loader").modal("hide");            alert(err);            return false;        }    });}function updateUserOLD(id){    $("#loader").modal("show");    $("#loadermsg").text("Fetching The Role records...");    $.ajax({        type: "post",        url: "php/index.php",        data: "updateUser="+id,        success: function (data) {            console.log(data);            $("#loader").modal("hide");            var result = $.parseJSON(data);            if(data == 'Not Found'){                alert("Role Details Not Found");            }else{                $("#fname").val(result['fname']);                $("#lname").val(result['lname']);                $("#contact").val(result['phone']);                $("#email").val(result['email']);                //VALIDATE THE ACCOUNT TYPE                                $("#actype").prepend("<option selected value='"+result['actype']+"'>"+result['actype']+"</option>");                $("#role").prepend("<option selected value='"+result['role']+"'>"+result['rolename']+"</option>");                $("#institution").prepend("<option selected value='"+result['institution']+"'>"+result['institute']+"</option>");                //$("#user_modal").modal("show");            }        },        error: function (xhr, desc, err) {            $("#loader").modal("hide");            alert(err);            return false;        }    });    console.log(id);    //GET THE ROLE DETAILS}//FUNCTION TO GET THE DIGITAL ADDRSS DETAILSfunction getAddressDetails(){    $("#loader").modal("show");    $("#loadermsg").text("Generating Digital Address Details...");    var digaddress = $("#digaddress").val();    if(digaddress == ""){        alert("Kindly Provide The Digital Address.");    }else{        $.ajax({            type: "get",            url: "php/index.php",            data: "getGps="+digaddress,            success: function (data) {                $("#loader").modal("hide");                console.log(data);                var result = $.parseJSON(data);                var status = result['status'];                if(status == "failed"){                    $("#alertt_modal").modal("show");                    $("#alertMsg").text("Invalid Digital Address Provided. Kindly Provide A Valid Digital Address");                }else{                    var region = result['region'];                    var district = result['district'];                    var town = result['area'];                    var lat = result['latitude'];                    var longt = result['longitude'];                    $("#digregion").val(region);                    $("#digdistrict").val(district);                    $("#digtown").val(town);                    $("#diglat").val(lat);                    $("#diglongt").val(longt);                    $("#dighide").removeClass("hidden");                }            },            error: function (xhr, desc, err) {                errorNotification('Error!','Processing failed! Contact systems administrator for assistance','danger');                return false;            }        });    }}function updateRoleData(id){    $("#loader").modal("show");    $("#loadermsg").text("Fetching The Role records...");    var access = [];    var title = $("#roletitleU").val();    $.each($("input[name='accessesU']:checked"), function(){        access.push($(this).val());    });    $.ajax({        type: "post",        url: "php/index.php",        data: "updateRoleData="+access+"&title="+title+"&id="+id,        success: function (data) {            $("#loader").modal("hide");            //console.log(data);            var result = $.parseJSON(data);            var code = result['errorCode'];            var dmessage = result['errorMsg'];            console.log(code);            if(code == "1"){                errorNotification('Error!',dmessage,'error');            }else{                errorNotification('Success!',dmessage,'success');                setTimeout(function(){                    window.location.reload();                },3000);            }        },        error: function (xhr, desc, err) {            $("#loader").modal("hide");            alert(err);            return false;        }    });}//UPDATE PASSWORDfunction updatePassword(){    $("#loader").modal("show");    $("#loadermsg").text("Updating user account password...");    var username = $("#unamechg").val();    var currpassword = $("#curpassword").val();    var newpassword = $("#newpassword").val();    var reppassword = $("#repeatpassword").val();    if(username != "" && currpassword !="" && newpassword !="" && reppassword !=""){        if(newpassword == reppassword){            $.ajax({                type: "post",                url: "php/index.php",                data: "updatePassword="+username+"&currpassword="+currpassword+"&newpassword="+newpassword,                success: function (data) {                    $("#loader").modal("hide");                    var result = $.parseJSON(data);                    var code = result['errorCode'];                    var dmessage = result['errorMsg'];                    if(code == "1"){                        $("#alertt_modal").modal("show");                        $("#alertMsg").text(dmessage);                    }else{                        $("#success_modal").modal("show");                        $("#successMsg").text(dmessage);                        window.location.reload();                    }                },                error: function (xhr, desc, err) {                    $("#loader").modal("hide");                    alert(err);                    return false;                }            });        }else{            $("#loader").modal("hide");            alert("New Password And Repeat Password Mismatch");        }    }else{        $("#loader").modal("hide");        alert("Please provide all fields to update your account password");    }}